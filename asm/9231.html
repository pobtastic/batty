<!DOCTYPE html>
<html>
<head>
<title>Batty: Routine at 9231</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="922B.html">922B</a>
</td>
<td class="up">Up: <a href="../maps/all.html#9231">Map</a></td>
<td class="next">
Next: <a href="926B.html">926B</a>
</td>
</tr>
</table>
<div class="description">9231: Draw Frame</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routines at <a href="926B.html">926B</a> and <a href="93F8.html">93F8</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">DrawFrame</td>
<td class="address-2"><span id="9231"></span>9231</td>
<td class="instruction">LD HL,$0000</td>
<td class="comment-1" rowspan="2">Write 0000 to *<a href="8D46.html">8D46</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9234"></span>9234</td>
<td class="instruction">LD ($8D46),HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9237"></span>9237</td>
<td class="instruction">CALL <a href="974A.html#97ad">$97AD</a></td>
<td class="comment-1" rowspan="1">Call <a href="974A.html#97ad">97AD</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="923a"></span>923A</td>
<td class="instruction">CALL <a href="974A.html#97bc">$97BC</a></td>
<td class="comment-1" rowspan="1">Call <a href="974A.html#97bc">97BC</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="923d"></span>923D</td>
<td class="instruction">LD HL,$57E0</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=57E0 (screen buffer location).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9240"></span>9240</td>
<td class="instruction">LD DE,$57FF</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=57FF (screen buffer location).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9243"></span>9243</td>
<td class="instruction">LD B,$C0</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=C0.</td>
</tr>
<tr>
<td class="asm-label">DrawFrame_0</td>
<td class="address-2"><span id="9245"></span>9245</td>
<td class="instruction">LD (HL),$C0</td>
<td class="comment-1" rowspan="1">Write C0 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9247"></span>9247</td>
<td class="instruction">LD A,$03</td>
<td class="comment-1" rowspan="2">Write 03 to *<span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9249"></span>9249</td>
<td class="instruction">LD (DE),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="924a"></span>924A</td>
<td class="instruction">CALL <a href="B4EC.html#b56e">PrintLine_6</a></td>
<td class="comment-1" rowspan="1">Call <a href="B4EC.html#b56e">PrintLine_6</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="924d"></span>924D</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1">Exchange the <span class="register">DE</span> register with the shadow <span class="register">HL</span> register.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="924e"></span>924E</td>
<td class="instruction">CALL <a href="B4EC.html#b56e">PrintLine_6</a></td>
<td class="comment-1" rowspan="1">Call <a href="B4EC.html#b56e">PrintLine_6</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9251"></span>9251</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1">Restore the <span class="register">DE</span> register from the shadow <span class="register">HL</span> register.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9252"></span>9252</td>
<td class="instruction">DJNZ <a href="9231.html#9245">DrawFrame_0</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="9231.html#9245">DrawFrame_0</a> until counter is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9254"></span>9254</td>
<td class="instruction">LD HL,$56E0</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=56E0 (screen buffer location).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9257"></span>9257</td>
<td class="instruction">LD DE,$4000</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=4000.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="925a"></span>925A</td>
<td class="instruction">LD B,$20</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=20.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="925c"></span>925C</td>
<td class="instruction">LD A,$FF</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=FF.</td>
</tr>
<tr>
<td class="asm-label">DrawFrame_1</td>
<td class="address-2"><span id="925e"></span>925E</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="925f"></span>925F</td>
<td class="instruction">INC H</td>
<td class="comment-1" rowspan="1">Increment <span class="register">H</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9260"></span>9260</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9261"></span>9261</td>
<td class="instruction">DEC H</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">H</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9262"></span>9262</td>
<td class="instruction">LD (DE),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9263"></span>9263</td>
<td class="instruction">INC D</td>
<td class="comment-1" rowspan="1">Increment <span class="register">D</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9264"></span>9264</td>
<td class="instruction">LD (DE),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9265"></span>9265</td>
<td class="instruction">DEC D</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">D</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9266"></span>9266</td>
<td class="instruction">INC L</td>
<td class="comment-1" rowspan="1">Increment <span class="register">L</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9267"></span>9267</td>
<td class="instruction">INC E</td>
<td class="comment-1" rowspan="1">Increment <span class="register">E</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="9268"></span>9268</td>
<td class="instruction">DJNZ <a href="9231.html#925e">DrawFrame_1</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="9231.html#925e">DrawFrame_1</a> until counter is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="926a"></span>926A</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="922B.html">922B</a>
</td>
<td class="up">Up: <a href="../maps/all.html#9231">Map</a></td>
<td class="next">
Next: <a href="926B.html">926B</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1987 Elite Systems &copy; 2023 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.0.</div>
<div class="repository">Link to <a href="https://github.com/pobtastic/batty/">Source code</a>.</div>
<div><a href="../dec/asm/37425.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>